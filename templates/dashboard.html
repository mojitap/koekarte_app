{% extends "base.html" %}

{% block title %}ãƒã‚¤ãƒšãƒ¼ã‚¸ - ã‚³ã‚¨ã‚«ãƒ«ãƒ†{% endblock %}

{% block content %}
<div class="dashboard-card">
  <h1>{{ user.username }}ã•ã‚“ã®ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>

  <div class="profile-info">
    <p>ğŸ“§ <strong>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š</strong>{{ user.email }}</p>
    <p>ğŸ  <strong>åœ°åŸŸï¼š</strong>{{ user.prefecture }}</p>
    <p>ğŸ‘¤ <strong>æ€§åˆ¥ï¼š</strong>{{ user.gender }}</p>
    <p>ğŸ‚ <strong>ç”Ÿå¹´æœˆæ—¥ï¼š</strong>{{ user.birthdate }}</p>
    <p>ğŸ’¼ <strong>è·æ¥­ï¼š</strong>{{ user.occupation or "æœªè¨­å®š" }}</p>
  </div>

  <hr>

  {% if first_score is not none %}
  <div class="score-summary">
    <p>ğŸ“… <strong>ç™»éŒ²æ—¥ï¼š</strong>{{ first_score_date }}</p>
    <p>ğŸ”¢ <strong>åˆå›ã‚¹ã‚³ã‚¢ï¼š</strong>{{ first_score }}</p>
    <p>ğŸ“ <strong>ä»Šæ—¥ã®ã‚¹ã‚³ã‚¢ï¼š</strong>{{ latest_score }}</p>
    <p>ğŸ“Š <strong>ã‚¹ã‚³ã‚¢å·®åˆ†ï¼š</strong>{{ diff }}ãƒã‚¤ãƒ³ãƒˆï¼ˆã‚¹ãƒˆãƒ¬ã‚¹{% if diff > 0 %}ä¸Šæ˜‡{% elif diff < 0 %}æ¸›å°‘{% else %}å¤‰åŒ–ãªã—{% endif %}ï¼‰</p>
  </div>
  {% else %}
  <p>ã¾ã ã‚¹ã‚³ã‚¢ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚éŒ²éŸ³ãƒšãƒ¼ã‚¸ã‹ã‚‰åˆå›ã‚¹ã‚³ã‚¢ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚</p>
  {% endif %}

  <div class="actions">
    <p>ğŸ™ï¸ <a href="/record" class="button">éŒ²éŸ³ãƒšãƒ¼ã‚¸ã¸</a></p>
    <p>ğŸ“ˆ <a href="/result" class="button">ã‚°ãƒ©ãƒ•ã‚’è¦‹ã‚‹</a></p>
    
    <p>ğŸ“¥ <a href="/export_csv" class="button">CSVã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a></p>
  </div>

  <div class="logout">
    <a href="/logout">ğŸšª ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
  </div>
</div>
{% endblock %}
