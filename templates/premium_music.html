{% extends "base.html" %}

{% block title %}æœ‰æ–™éŸ³æº - ã‚³ã‚¨ã‚«ãƒ«ãƒ†{% endblock %}

{% block content %}
<div style="max-width: 700px; padding: 0 10px;">
  <h1>ğŸµ æœ‰æ–™éŸ³æºãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</h1>

  <p>
    ã‚³ã‚¨ã‚«ãƒ«ãƒ†ã§ã¯ã€å¿ƒã®çŠ¶æ…‹ã‚„ç›®çš„ã«åˆã‚ã›ãŸéŸ³æºã‚’<strong>æœ‰æ–™ãƒ—ãƒ©ãƒ³ï¼ˆå…¨18æ›²ï¼‰</strong>ã§ã‚‚ã”ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚<br>
    ãƒªãƒ©ãƒƒã‚¯ã‚¹ãƒ»é›†ä¸­ãƒ»æ°—åˆ†è»¢æ›ãªã©ã€ã‚ãªãŸã®ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã«å¯„ã‚Šæ·»ã£ãŸéŸ³ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚
  </p>

  {% set categories = {'ãƒã‚¸ãƒ†ã‚£ãƒ–': [], 'ãƒªãƒ©ãƒƒã‚¯ã‚¹': [], 'ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹': []} %}

  {% for track in tracks %}
    {% if 'positive' in track.filename %}
      {% set _ = categories['ãƒã‚¸ãƒ†ã‚£ãƒ–'].append(track) %}
    {% elif 'relax' in track.filename %}
      {% set _ = categories['ãƒªãƒ©ãƒƒã‚¯ã‚¹'].append(track) %}
    {% elif 'mindfulness' in track.filename %}
      {% set _ = categories['ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹'].append(track) %}
    {% endif %}
  {% endfor %}

  {% for label, group in categories.items() %}
    <h2 class="toggle-header">ğŸ§ {{ label }}ç³»</h2>
    <div class="toggle-content">
      <ul style="list-style: none; padding: 0;">
        {% for track in group %}
        <li style="margin-bottom: 20px;">
          <p>{{ track.display }}</p>
          <audio controls style="width: 100%;">
            <source src="{{ url_for('static', filename='paid/' + track.filename) }}" type="audio/mpeg">
            ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°å†ç”Ÿã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
          </audio>
        </li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}

  <div style="margin-top: 40px;">
    <a href="/dashboard" class="auth-links">ğŸ  ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>
  </div>
</div>

<style>
.toggle-header {
  cursor: pointer;
  background-color: #f2f2f2;
  padding: 10px;
  border-radius: 5px;
  margin-top: 25px;
}
.toggle-content {
  display: none;
  margin-top: 10px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const headers = document.querySelectorAll('.toggle-header');
  headers.forEach(header => {
    header.addEventListener('click', () => {
      const content = header.nextElementSibling;
      content.style.display = content.style.display === 'none' ? 'block' : 'none';
    });
  });
});
</script>
{% endblock %}
