<!-- templates/admin.html -->
{% extends "base.html" %}

{% block title %}管理者ページ - コエカルテ{% endblock %}

{% block content %}
  <div class="admin-container">
    <h1>👩‍💼 管理者ページ（全ユーザーの記録一覧）</h1>
    <p>ユーザーごとのスコア履歴を確認できます。</p>
    <hr>
    {% for user in users %}
      <div style="margin-bottom: 25px; padding: 15px; border: 1px solid #ccc; border-radius: 8px;">
        <h3>👤 {{ user.username }}（{{ user.email }}）</h3>
        <ul>
          {% for log in user.score_logs %}
            <li>{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}：スコア {{ log.score }}</li>
          {% else %}
            <li><em>記録なし</em></li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
  <a href="/dashboard" class="button">🏠 マイページに戻る</a>
{% endblock %}
